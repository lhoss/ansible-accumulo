---
- name: Create service account for Accumulo
  user: name={{ accumulo_user }}
        system=yes
        home={{ accumulo_user_dir }}
        shell={{ accumulo_user_shell }}
        state=present

- include: accumulo-1-6.yml
  when: accumulo_version | version_compare('1.6.3', '<') and accumulo_version|version_compare('1.6.0', '>=')

- include: accumulo-distr.yml
  when: accumulo_version | version_compare('1.6.3', '>')

- name: Ensure Accumulo directories are owned by Accumulo user
  file: path={{ item }}
        owner={{ accumulo_user }}
        mode=0755
        state=directory
  with_items:
    - "{{ accumulo_log_dir }}/logs"
# below one is a symlink in the new 'distr' setup
#    - "{{ accumulo_conf_dir }}"



